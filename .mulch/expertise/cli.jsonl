{"type":"convention","content":"When sibling builder branches have cross-file dependencies (e.g., CLI router imports commands created on another branch), the reviewer cannot run full quality gates in isolation. Merge order matters: the branch creating new modules must be merged before the branch importing them.","classification":"tactical","recorded_at":"2026-02-19T20:57:26.673Z","id":"mx-df7356"}
{"type":"pattern","name":"multi-feature-decomposition","description":"Lead agent orchestration for multi-feature startup: decompose into 4 parallel builders with non-overlapping file scopes, then spawn a 5th integration builder for cross-cutting CLI routing changes. Send merge_ready per-builder as each reviewer passes rather than batching.","classification":"tactical","recorded_at":"2026-02-19T20:57:32.560Z","id":"mx-8b0ca7"}
{"type":"convention","content":"Builder task may arrive with a spec describing a bug that has already been fixed by a sibling branch merged before the worktree was created. Always audit the actual file state against the spec before making changes. If the fix is already in place, report no-op completion.","classification":"tactical","recorded_at":"2026-02-19T21:00:34.227Z","evidence":{"bead":"legio-zpw"},"id":"mx-837529"}
{"type":"convention","content":"agentColor().dot returns bg-* Tailwind classes designed for CSS circles (empty spans with rounded-full). For text characters like ‚óè use .text instead (text-* classes). Colors.dot is for backgrounds, colors.text is for text color.","classification":"tactical","recorded_at":"2026-02-19T21:01:36.902Z","id":"mx-9fc7a4"}
{"type":"convention","content":"When parallel builders import functions from another builder's unmerged branch, merge order matters. The dependency branch (providing exports) must merge before the consumer branch. Reviewers should check import existence against main.","classification":"tactical","recorded_at":"2026-02-19T21:01:38.866Z","id":"mx-909dd4"}
{"type":"convention","content":"Biome check from within a .legio/worktree always returns 'Checked 0 files' because biome.json ignores .legio/. Lint verification for worktree code requires running from the canonical repo root.","classification":"tactical","recorded_at":"2026-02-19T21:01:41.253Z","id":"mx-830cc1"}
{"type":"convention","content":"When testing EADDRINUSE with two HTTP servers on macOS, use explicit '127.0.0.1' instead of 'localhost' as the host. On macOS, dns.lookup('localhost') can return either 127.0.0.1 or ::1 across different calls, causing the two servers to bind to different address families and not conflict, making the EADDRINUSE test pass spuriously.","classification":"tactical","recorded_at":"2026-02-20T08:31:08.432Z","evidence":{"bead":"legio-47m"},"id":"mx-57d6d4"}
